"use strict";
const fs_1 = require("@agacraft/fs");
module.exports = function (path) {
    return (req, res, next) => {
        const url = req.params['*'];
        const route = `${path}/${url}`;
        if ((0, fs_1.isFile)(route))
            res.sendFile(route);
        else if ((0, fs_1.isFile)(`${route}.html`))
            res.sendFile(`${route}.html`);
        else if ((0, fs_1.isDirectory)(route) && (0, fs_1.isFile)(`${route}/index.html`))
            res.sendFile(`${route}/index.html`);
        else
            next();
    };
};
